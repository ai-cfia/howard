
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.30">
    
    
      
        <title>ADR-018 : Observability Management - Howard</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adr-018-observability-management" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Howard" class="md-header__button md-logo" aria-label="Howard" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Howard
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ADR-018 : Observability Management
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/howard/en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/howard/fr/" hreflang="fr" class="md-select__link">
              French
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ai-cfia/howard" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ai-cfia/howard
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Howard" class="md-nav__button md-logo" aria-label="Howard" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Howard
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ai-cfia/howard" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ai-cfia/howard
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration / Implementation
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#executive-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Executive Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#background" class="md-nav__link">
    <span class="md-ellipsis">
      Background
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decision" class="md-nav__link">
    <span class="md-ellipsis">
      Décision
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Décision">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-source-opentelemetry" class="md-nav__link">
    <span class="md-ellipsis">
      Data Source: OpenTelemetry
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Source: OpenTelemetry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-source-considered-alternatives" class="md-nav__link">
    <span class="md-ellipsis">
      Data Source: Considered alternatives
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-platform-grafana-alloy-loki-tempo-prometheus" class="md-nav__link">
    <span class="md-ellipsis">
      Data Platform: Grafana Alloy, Loki, Tempo, Prometheus
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Platform: Grafana Alloy, Loki, Tempo, Prometheus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-platform-considered-alternatives" class="md-nav__link">
    <span class="md-ellipsis">
      Data Platform: considered alternatives
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consumption-grafana" class="md-nav__link">
    <span class="md-ellipsis">
      Consumption: Grafana
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Consumption: Grafana">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#consumption-considered-alternatives" class="md-nav__link">
    <span class="md-ellipsis">
      Consumption: Considered alternatives
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="adr-018-observability-management">ADR-018 : Observability Management</h1>
<h2 id="executive-summary">Executive Summary</h2>
<p>We have decided to implement a comprehensive observability stack for our
applications hosted on Azure Kubernetes Service (AKS) using OpenTelemetry,
Grafana Alloy, and various Grafana components (Loki, Tempo, Prometheus). This
decision aims to enhance our visibility into system performance, improve
monitoring of critical services, and provide a vendor-neutral, open-source
solution that aligns with our agency’s requirements.</p>
<p><img alt="monitoring-stack" src="../../img/monitoring-stack.png" /></p>
<h2 id="background">Background</h2>
<p>At the Canadian Food Inspection Agency, we faced significant challenges in
monitoring and understanding the performance of our applications and system
services on Azure Kubernetes Service (AKS). Despite achieving high availability
and automation with AKS, we lacked contextualized data to diagnose issues and
monitor the health of our nodes and services like ArgoCD and NGINX Ingress, as
well as our client applications.</p>
<p>We sought a solution that would provide centralized and open-source monitoring,
offering insights into activity, traffic, and engagement with our applications.
Our goal was to implement a generic, vendor-neutral solution for collecting and
displaying telemetry data (logs, traces, and metrics) across our applications.
After evaluating various options, we chose OpenTelemetry for data collection,
Grafana Alloy as the collector, and Grafana’s suite of tools (Loki, Tempo,
Prometheus) for log, trace, and metric management.</p>
<h2 id="decision">Décision</h2>
<h3 id="data-source-opentelemetry">Data Source: OpenTelemetry</h3>
<p>We chose OpenTelemetry as our primary data source for telemetry collection due
to its vendor-neutral nature and consistent APIs/SDKs across multiple
programming languages. This choice aligns well with our agency’s diverse
technological landscape and ensures broad compatibility and scalability.</p>
<h4 id="data-source-considered-alternatives">Data Source: Considered alternatives</h4>
<ol>
<li><strong>Jaeger:</strong></li>
<li><strong>Advantages:</strong> Excellent tracing capabilities, integration with various
     backend storage systems.</li>
<li>
<p><strong>Disadvantages:</strong> Primarily focused on tracing, less support for metrics
     and logs compared to OpenTelemetry.</p>
</li>
<li>
<p><strong>Zipkin:</strong></p>
</li>
<li><strong>Advantages:</strong> Simple and easy to deploy, good tracing support.</li>
<li><strong>Disadvantages:</strong> Limited support for metrics and logs, less flexibility
     than OpenTelemetry.</li>
</ol>
<h3 id="data-platform-grafana-alloy-loki-tempo-prometheus">Data Platform: Grafana Alloy, Loki, Tempo, Prometheus</h3>
<p>We decided to use Grafana Alloy as our OpenTelemetry collector, leveraging its
vendor-neutral stance and seamless integration with other Grafana components.
The primary allure of Grafana Alloy lies in its promise to provide a unified
observability platform, akin to having a master key for various locks. This
allows seamless integration with tools like Prometheus for metrics, Loki for
logs, and many others. Alloy simplifies the observability stack, making it more
accessible and manageable.</p>
<p>For data sources, we selected Grafana Loki for logs, Grafana Tempo for traces,
and Prometheus for metrics.</p>
<ol>
<li>
<p><strong>Alloy:</strong></p>
<ul>
<li><strong>Advantages:</strong> Unified observability platform, vendor-neutral, seamless
integration with other Grafana components.</li>
<li><strong>Disadvantages:</strong> Complexity in setting up and managing large-scale log
storage solutions.</li>
</ul>
</li>
<li>
<p><strong>Loki:</strong></p>
<ul>
<li><strong>Advantages:</strong> Highly efficient log aggregation, scalable storage, and
integration with Grafana for seamless visualization.</li>
<li><strong>Disadvantages:</strong> Complexity in setting up and managing large-scale log
storage solutions.</li>
</ul>
</li>
<li>
<p><strong>Tempo:</strong></p>
<ul>
<li><strong>Advantages:</strong> Efficient, scalable distributed tracing, integrates well
with Grafana dashboards.</li>
<li><strong>Disadvantages:</strong> Can be resource-intensive, requires proper
configuration for optimal performance.</li>
</ul>
</li>
<li>
<p><strong>Prometheus:</strong></p>
<ul>
<li><strong>Advantages:</strong> Robust metric collection and querying capabilities, strong
ecosystem support, and alert management.</li>
<li><strong>Disadvantages:</strong> Can be resource-intensive, particularly at scale, and
requires significant setup and maintenance.</li>
</ul>
</li>
</ol>
<h4 id="data-platform-considered-alternatives">Data Platform: considered alternatives</h4>
<ol>
<li>
<p><strong>Native OpenTelemetry collector:</strong></p>
<ul>
<li><strong>Advantages:</strong><ul>
<li><strong>Direct integration:</strong> Direct support for OpenTelemetry protocols
ensures seamless data collection and export.</li>
<li><strong>Highly customizable:</strong> Provides extensive customization options to
tailor the observability pipeline to specific needs.</li>
</ul>
</li>
<li><strong>Disadvantages:</strong><ul>
<li><strong>Complex configuration:</strong> Requires significant configuration and
setup effort, which can be time-consuming.</li>
<li><strong>Lack of integrated dashboards:</strong> Does not offer built-in
visualization tools, requiring additional integrations for dashboards.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Azure Monitor:</strong></p>
<ul>
<li><strong>Advantages:</strong><ul>
<li><strong>Native Azure integration:</strong> Seamless integration with Azure services
and resources, simplifying setup and management.</li>
<li><strong>Comprehensive monitoring:</strong> Offers a wide range of monitoring and
observability features, including logs, metrics, and traces.</li>
</ul>
</li>
<li><strong>Disadvantages:</strong><ul>
<li><strong>Vendor lock-in:</strong> Tied to the Azure ecosystem, limiting flexibility
and portability.</li>
<li><strong>Costly at scale:</strong> Costs can escalate quickly, especially with large
volumes of data.</li>
<li><strong>Configuration limitations:</strong> Limited ability to configure as code,
  potentially hindering automation and version control efforts.</li>
<li><strong>Limited community support:</strong> Relatively limited community compared
to open-source solutions, potentially limiting resources and support.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>ClickHouse</strong></p>
<ul>
<li><strong>Advantages:</strong><ul>
<li><strong>High performance:</strong> Exceptional performance in handling large
volumes of data, suitable for intensive analytics.</li>
<li><strong>Scalable:</strong> Scales efficiently to handle growing data needs without
significant performance degradation.</li>
</ul>
</li>
<li><strong>Disadvantages:</strong><ul>
<li><strong>Complex setup:</strong> Requires a complex setup and configuration process,
making it challenging for smaller teams.</li>
<li><strong>Additional tooling needed:</strong> Needs additional tools for
visualization and integration, increasing the overall complexity of the
stack.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Elasticsearch</strong></p>
<ul>
<li><strong>Advantages:</strong><ul>
<li><strong>Powerful search capabilities:</strong> Offers robust search and analytics
capabilities, making it ideal for log management.</li>
<li><strong>Wide adoption:</strong> Widely adopted with a large community, providing
extensive resources and support.</li>
</ul>
</li>
<li><strong>Disadvantages:</strong><ul>
<li><strong>Resource-intensive:</strong> Can be resource-intensive, requiring
substantial infrastructure to run efficiently.</li>
<li><strong>Costly at scale:</strong> Costs can escalate quickly, especially when
dealing with large volumes of data.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="consumption-grafana">Consumption: Grafana</h3>
<p>For data visualization and dashboarding, we chose Grafana due to its robust
support for diverse data sources, extensive community, and powerful dashboard
capabilities. Grafana allows us to create custom dashboards to monitor various
aspects of our system, including application activity, traffic, and performance
metrics.</p>
<h4 id="consumption-considered-alternatives">Consumption: Considered alternatives</h4>
<ol>
<li><strong>Kibana:</strong></li>
<li><strong>Advantages:</strong> Excellent for visualizing data stored in Elasticsearch,
     powerful search and analytics capabilities.</li>
<li>
<p><strong>Disadvantages:</strong> Primarily tied to the Elasticsearch ecosystem, less
     flexibility with other data sources.</p>
</li>
<li>
<p><strong>Azure Log Analytics:</strong></p>
</li>
<li><strong>Advantages:</strong> Native integration with Azure services, comprehensive
     monitoring capabilities.</li>
<li>
<p><strong>Disadvantages:</strong> Vendor lock-in, limited support for non-Azure data
     sources.</p>
</li>
<li>
<p><strong>DataDog:</strong></p>
</li>
<li><strong>Advantages:</strong> Comprehensive monitoring and observability platform, strong
     integrations.</li>
<li>
<p><strong>Disadvantages:</strong> Proprietary, can be expensive, less flexibility for
     open-source integrations.</p>
</li>
<li>
<p><strong>Prometheus UI:</strong></p>
</li>
<li><strong>Advantages:</strong> Native support for Prometheus metrics, simple to use.</li>
<li><strong>Disadvantages:</strong> Limited visualization capabilities compared to Grafana,
     primarily focused on metrics.</li>
</ol>
<h2 id="conclusion">Conclusion</h2>
<p>Implementing OpenTelemetry for data collection, Grafana Alloy for data
processing, and Grafana for visualization provides a fully open-source,
vendor-neutral observability stack. This approach enhances our ability to
monitor and troubleshoot our applications and services effectively. The chosen
solutions offer scalability, flexibility, and robust community support, ensuring
we can meet our current and future observability needs. Furthermore,
OpenTelemetry is a widely adopted standard in the market, empowering our
developers to work with industry norms. Since we are in the early development
stages of our prototypes, this is a perfect opportunity to provide
instrumentation by design and ensure visibility over performance from the
outset. This proactive approach will help us optimize our applications'
performance and reliability in the early stages of development.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/azure-monitor/app/opentelemetry-enable?tabs=python#why-is-microsoft-azure-monitor-investing-in-opentelemetry">Microsoft Azure Monitor and
  OpenTelemetry</a></li>
<li><a href="https://grafana.com/oss/alloy-opentelemetry-collector/">Grafana Alloy</a></li>
<li><a href="https://grafana.com/oss/loki/">Grafana Loki</a></li>
<li><a href="https://grafana.com/oss/tempo/">Grafana Tempo</a></li>
<li><a href="https://prometheus.io/">Prometheus</a></li>
<li><a href="https://opentelemetry.io/docs/">OpenTelemetry documentation</a></li>
<li><a href="https://www.jaegertracing.io/">Jaeger</a></li>
<li><a href="https://zipkin.io/">Zipkin</a></li>
<li><a href="https://clickhouse.tech/">ClickHouse</a></li>
<li><a href="https://www.elastic.co/elasticsearch/">Elasticsearch</a></li>
<li><a href="https://www.elastic.co/kibana/">Kibana</a></li>
<li><a href="https://docs.datadoghq.com/">DataDog documentation</a></li>
<li><a href="https://prometheus.io/docs/visualization/browser/">Prometheus UI</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "header.autohide"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>