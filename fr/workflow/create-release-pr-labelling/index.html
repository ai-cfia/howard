
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>Créer une release et étiqueter une pull request - Howard</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creer-une-release-et-etiqueter-une-pull-request" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../.." title="Howard" class="md-header__button md-logo" aria-label="Howard" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Howard
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Créer une release et étiqueter une pull request
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Sélectionner la langue">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/howard/en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/howard/fr/" hreflang="fr" class="md-select__link">
              French
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ai-cfia/howard" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    ai-cfia/howard
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Howard" class="md-nav__button md-logo" aria-label="Howard" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Howard
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ai-cfia/howard" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    ai-cfia/howard
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accueil
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration / Implémentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Github workflow
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#workflow-1-creer-une-release-construire-et-pousser-sur-ghcr-avec-un-tag-specifique" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow (1) : Créer une release, construire et pousser sur GHCR avec un tag spécifique
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Workflow (1) : Créer une release, construire et pousser sur GHCR avec un tag spécifique">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objectif-1" class="md-nav__link">
    <span class="md-ellipsis">
      Objectif (1)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#declencheur-1" class="md-nav__link">
    <span class="md-ellipsis">
      Déclencheur (1)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etapes-1" class="md-nav__link">
    <span class="md-ellipsis">
      Étapes (1)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-1" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration (1)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration (1)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#explication-1" class="md-nav__link">
    <span class="md-ellipsis">
      Explication (1)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utilisation-1" class="md-nav__link">
    <span class="md-ellipsis">
      Utilisation (1)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow-2-etiqueteur-de-pull-requests" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow (2) : Étiqueteur de pull requests
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Workflow (2) : Étiqueteur de pull requests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objectif-2" class="md-nav__link">
    <span class="md-ellipsis">
      Objectif (2)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#declencheur-2" class="md-nav__link">
    <span class="md-ellipsis">
      Déclencheur (2)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etapes-2" class="md-nav__link">
    <span class="md-ellipsis">
      Étapes (2)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-2" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration (2)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utilisation-2" class="md-nav__link">
    <span class="md-ellipsis">
      Utilisation (2)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="creer-une-release-et-etiqueter-une-pull-request">Créer une release et étiqueter une pull request</h1>
<p>Ce document explique l'objectif, le fonctionnement et l'utilisation des deux
workflows GitHub fournis. Les workflows automatisent le processus de création
de releases et d'étiquetage des pull requests.</p>
<h2 id="workflow-1-creer-une-release-construire-et-pousser-sur-ghcr-avec-un-tag-specifique">Workflow (1) : Créer une release, construire et pousser sur GHCR avec un tag spécifique</h2>
<h3 id="objectif-1">Objectif (1)</h3>
<p>Ce workflow automatise les étapes suivantes :</p>
<ul>
<li><strong>Créer une release GitHub :</strong> Il génère une release basée sur un tag
poussé dans le dépôt.</li>
<li><strong>Générer un changelog :</strong> Il utilise les étiquettes des pull requests
fusionnées pour générer un changelog.</li>
<li><strong>Construire et pousser une image Docker :</strong> Il construit une image Docker et
la pousse sur le GitHub Container Registry (GHCR).</li>
</ul>
<h3 id="declencheur-1">Déclencheur (1)</h3>
<p>Le workflow est déclenché manuellement via <code>workflow_call</code> avec deux entrées
requises :</p>
<ul>
<li><code>artifact-name</code> : Nom de l'artifact à créer.</li>
<li><code>registry</code> : Registre où l'image Docker sera poussée.</li>
</ul>
<p>Dans la majorité des cas, le <code>workflow_call</code> se fait comme suit :</p>
<div class="highlight"><pre><span></span><code><span class="nt">on</span><span class="p">:</span>
<span class="w">  </span><span class="nt">push</span><span class="p">:</span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;v[0-9]+.[0-9]+.[0-9]+&#39;</span>
</code></pre></div>
<h3 id="etapes-1">Étapes (1)</h3>
<ul>
<li><strong>Cloner le dépôt :</strong> Clone le dépôt.</li>
<li><strong>Extraire le nom du tag :</strong> Extrait le nom du tag actuel à partir de la
référence GitHub.</li>
<li><strong>Générer le changelog :</strong> Génère un changelog en utilisant les pull requests
fusionnées.</li>
<li><strong>Créer une release :</strong> Crée une release GitHub en utilisant le tag extrait
et le changelog généré.</li>
<li><strong>Télécharger l'asset de la release :</strong> Compresse le dépôt et le télécharge
en tant qu'asset de la release.</li>
<li><strong>Configurer Docker Buildx :</strong> Configure Docker Buildx pour construire des
images multiplateformes.</li>
<li><strong>Se connecter à GHCR :</strong> Se connecte au GitHub Container Registry.</li>
<li><strong>Mettre en cache les couches Docker :</strong> Met en cache les couches Docker pour
accélérer le processus de build.</li>
<li><strong>Construire et pousser l'image Docker :</strong> Construit et pousse l'image Docker
sur GHCR.</li>
<li><strong>Rafraîchir le cache :</strong> Rafraîchit le cache Docker.</li>
<li><strong>Afficher le digest de l'image :</strong> Affiche le digest de l'image si
l'événement n'est pas une pull request fusionnée.</li>
</ul>
<h3 id="configuration-1">Configuration (1)</h3>
<p>L'étape de génération du changelog utilise l'action
<code>mikepenz/release-changelog-builder-action@v5</code> pour créer un changelog basé sur
les pull requests fusionnées depuis le tag précédent. Cette étape catégorise
les pull requests en différentes sections en fonction de leurs étiquettes.</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generate changelog</span>
<span class="w">  </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">changelog</span>
<span class="w">  </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mikepenz/release-changelog-builder-action@v5</span>
<span class="w">  </span><span class="nt">with</span><span class="p">:</span>
<span class="w">    </span><span class="nt">configurationJson</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">{</span>
<span class="w">          </span><span class="no">&quot;categories&quot;: [</span>
<span class="w">              </span><span class="no">{</span>
<span class="w">                  </span><span class="no">&quot;title&quot;: &quot;## User stories 👑&quot;,</span>
<span class="w">                  </span><span class="no">&quot;labels&quot;: [&quot;epic&quot;]</span>
<span class="w">              </span><span class="no">},</span>
<span class="w">              </span><span class="no">{</span>
<span class="w">                  </span><span class="no">&quot;title&quot;: &quot;## New features 🎉&quot;,</span>
<span class="w">                  </span><span class="no">&quot;labels&quot;: [&quot;feature&quot;]</span>
<span class="w">              </span><span class="no">},</span>
<span class="w">              </span><span class="no">{</span>
<span class="w">                  </span><span class="no">&quot;title&quot;: &quot;## Bug fixes 🐛&quot;,</span>
<span class="w">                  </span><span class="no">&quot;labels&quot;: [&quot;bug&quot;]</span>
<span class="w">              </span><span class="no">},</span>
<span class="w">              </span><span class="no">{</span>
<span class="w">                  </span><span class="no">&quot;title&quot;: &quot;## Documentation 📄&quot;,</span>
<span class="w">                  </span><span class="no">&quot;labels&quot;: [&quot;documentation&quot;]</span>
<span class="w">              </span><span class="no">},</span>
<span class="w">              </span><span class="no">{</span>
<span class="w">                  </span><span class="no">&quot;title&quot;: &quot;## Other Changes 💬&quot;,</span>
<span class="w">                  </span><span class="no">&quot;labels&quot;: [&quot;*&quot;]</span>
<span class="w">              </span><span class="no">}</span>
<span class="w">          </span><span class="no">],</span>
<span class="w">          </span><span class="no">&quot;template&quot;: &quot;#{{CHANGELOG}}\n\nContributors:\n#{{CONTRIBUTORS}}&quot;,</span>
<span class="w">          </span><span class="no">&quot;max_pull_requests&quot;: 1000,</span>
<span class="w">          </span><span class="no">&quot;max_back_track_time_days&quot;: 1000</span>
<span class="w">      </span><span class="no">}</span>
<span class="w">    </span><span class="nt">owner</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ github.repository_owner }}</span>
<span class="w">    </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ github.event.repository.name }}</span>
<span class="w">    </span><span class="nt">toTag</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ env.TAG_NAME }}</span>
<span class="w">    </span><span class="nt">token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.GITHUB_TOKEN }}</span>
</code></pre></div>
<h4 id="explication-1">Explication (1)</h4>
<ul>
<li><strong>Categories :</strong> Définit les sections du changelog, chacune avec un titre
et des étiquettes associées. Les pull requests sont regroupées sous ces sections
en fonction de leurs étiquettes.</li>
<li><strong>Histoires d'utilisateurs :</strong> Inclut les pull requests étiquetées epic.</li>
<li><strong>Nouvelles fonctionnalités :</strong> Inclut les pull requests étiquetées feature.</li>
<li><strong>Corrections de bugs :</strong> Inclut les pull requests étiquetées bug.</li>
<li><strong>Documentation :</strong> Inclut les pull requests étiquetées documentation.</li>
<li><strong>Autres changements :</strong> Inclut les pull requests étiquetées avec d'autres
étiquettes.</li>
<li><strong>template :</strong> Définit le format du changelog.</li>
<li><strong>max_pull_requests :</strong> Le nombre maximum de pull requests à inclure dans
le changelog.</li>
<li><strong>max_back_track_time_days :</strong> Le nombre maximum de jours à remonter pour
les pull requests.</li>
</ul>
<p>Lorsque le workflow est déclenché, cette étape compare le tag précédent avec le
nouveau tag et génère un changelog pour toutes les pull requests fusionnées
entre les deux tags. Chaque pull request est ajoutée à la section appropriée
en fonction de ses étiquettes.</p>
<h3 id="utilisation-1">Utilisation (1)</h3>
<p>Pour utiliser ce workflow, appelez-le depuis un autre workflow ou manuellement
avec les entrées requises. Par exemple :</p>
<div class="highlight"><pre><span></span><code><span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">call-release-workflow</span><span class="p">:</span>
<span class="w">    </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">your-repo/.github/workflows/create-release.yml</span>
<span class="w">    </span><span class="nt">with</span><span class="p">:</span>
<span class="w">      </span><span class="nt">artifact-name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-artifact</span>
<span class="w">      </span><span class="nt">registry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ghcr.io/my-org</span>
</code></pre></div>
<p>Assurez-vous qu'un tag est poussé dans le dépôt pour déclencher la création
de la release.</p>
<h2 id="workflow-2-etiqueteur-de-pull-requests">Workflow (2) : Étiqueteur de pull requests</h2>
<h3 id="objectif-2">Objectif (2)</h3>
<p>Ce workflow étiquette automatiquement les pull requests en fonction de leur nom
de branche ou des fichiers modifiés. Il utilise un fichier de configuration
pour déterminer les étiquettes à appliquer.</p>
<h3 id="declencheur-2">Déclencheur (2)</h3>
<p>Le workflow est déclenché manuellement via <code>workflow_call</code>.</p>
<h3 id="etapes-2">Étapes (2)</h3>
<ul>
<li>Cloner le dépôt : Clone le dépôt contenant le fichier de configuration
<code>labeler.yml</code>.</li>
<li>Étiqueter la pull request : Utilise l'action <code>actions/labeler</code> pour appliquer
des étiquettes à la pull request en fonction de la configuration.</li>
</ul>
<h3 id="configuration-2">Configuration (2)</h3>
<p>Le fichier <code>labeler.yml</code> définit les règles pour étiqueter les pull requests :</p>
<div class="highlight"><pre><span></span><code><span class="nt">documentation</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">any</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">changed-files</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">any-glob-to-any-file</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;docs/**&#39;</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;**/*.md&#39;</span>

<span class="nt">tests</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">any</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">changed-files</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">any-glob-to-any-file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tests/**</span>

<span class="nt">feature</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">head-branch</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;^feature&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;feature&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;^feat&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;feat&#39;</span><span class="p p-Indicator">]</span>

<span class="nt">bug</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">head-branch</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;^bug&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;bug&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;^fix&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;fix&#39;</span><span class="p p-Indicator">]</span>

<span class="nt">epic</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">head-branch</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;^epic&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;epic&#39;</span><span class="p p-Indicator">]</span>
</code></pre></div>
<h3 id="utilisation-2">Utilisation (2)</h3>
<ul>
<li>Une pull request avec le nom de branche <code>feature/new-feature</code> sera étiquetée
comme <strong>feature</strong>.</li>
<li>Une pull request modifiant des fichiers dans le répertoire <code>docs/</code> sera
étiquetée comme <strong>documentation</strong>.</li>
<li>Une pull request avec le nom de branche <code>bug/fix-issue</code> sera étiquetée
comme <strong>bug</strong>.</li>
<li>Une pull request avec le nom de branche <code>epic/new-epic</code> sera étiquetée
comme <strong>epic</strong>.</li>
</ul>
<p>En utilisant ces workflows, vous pouvez simplifier le processus de gestion des
releases et de l'étiquetage des pull requests dans votre dépôt.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "header.autohide"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>